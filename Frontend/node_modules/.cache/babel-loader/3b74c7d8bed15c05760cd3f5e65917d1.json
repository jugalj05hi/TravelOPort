{"ast":null,"code":"var _jsxFileName = \"/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Login/LoginModalContent.js\";\nimport React from \"react\";\nimport { loginUser } from \"../../services/services\";\nimport crypto from \"crypto-js\";\n\nclass LoginModalContent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n\n    this.login = e => {\n      e.preventDefault();\n\n      if (this.state.user.email && this.state.user.password) {\n        let encryptedPassword = crypto.AES.encrypt(JSON.stringify(this.state.user.password), 'DEFcon777').toString();\n        this.setState({\n          user: { ...this.state.user,\n            password: encryptedPassword\n          }\n        }, () => loginUser(this.state.user).then(user => {\n          console.log(user);\n\n          if (user) {\n            window.$('#loginModal').modal('toggle');\n            this.props.history.push('/user-dashboard');\n          }\n        }));\n      } else {\n        alert('All fields are required!');\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"wbdv-dtl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Email \"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      id: \"loginUsername\",\n      type: \"email\",\n      placeholder: \"someone\",\n      value: this.state.email,\n      onChange: e => this.setState({\n        user: { ...this.state.user,\n          email: e.target.value\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Password \"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"loginPassword\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: e => this.setState({\n        user: { ...this.state.user,\n          password: e.target.value\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary btn-block\",\n      type: \"submit\",\n      formAction: \"\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Forgot Password?\"))))));\n  }\n\n}\n\nexport default LoginModalContent;","map":{"version":3,"sources":["/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Login/LoginModalContent.js"],"names":["React","loginUser","crypto","LoginModalContent","Component","state","user","email","password","login","e","preventDefault","encryptedPassword","AES","encrypt","JSON","stringify","toString","setState","then","console","log","window","$","modal","props","history","push","alert","render","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {loginUser} from \"../../services/services\";\nimport crypto from \"crypto-js\";\n\nclass LoginModalContent extends React.Component {\n  state = {\n    user: {\n      email: \"\",\n      password: \"\"\n    }\n  };\n\n  login = (e) => {\n    e.preventDefault();\n    if (this.state.user.email && this.state.user.password) {\n      let encryptedPassword = crypto.AES.encrypt(\n          JSON.stringify(this.state.user.password), 'DEFcon777').toString();\n      this.setState({\n        user: {\n          ...this.state.user,\n          password: encryptedPassword\n        }\n      }, () => loginUser(this.state.user).then(user => {\n        console.log(user);\n        if (user) {\n          window.$('#loginModal').modal('toggle');\n          this.props.history.push('/user-dashboard')\n        }\n      }))\n    } else {\n      alert('All fields are required!')\n    }\n  };\n\n  render() {\n    return (\n        <form className=\"wbdv-dtl\">\n          <div className=\"form-group row\">\n            <label htmlFor=\"email\" className=\"col-sm-2 col-form-label\">\n              Email </label>\n            <div className=\"col-sm-10\">\n              <input className=\"form-control\"\n                     id=\"loginUsername\"\n                     type=\"email\"\n                     placeholder=\"someone\"\n                     value={this.state.email}\n                     onChange={(e) =>\n                         this.setState({\n                           user: {\n                             ...this.state.user,\n                             email: e.target.value\n                           }\n                         })}\n              />\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label htmlFor=\"password\" className=\"col-sm-2 col-form-label\">\n              Password </label>\n            <div className=\"col-sm-10\">\n              <input type=\"password\"\n                     className=\"form-control\"\n                     id=\"loginPassword\"\n                     placeholder=\"password\"\n                     value={this.state.password}\n                     onChange={(e) =>\n                         this.setState({\n                           user: {\n                             ...this.state.user,\n                             password: e.target.value\n                           }\n                         })}\n              />\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col-sm-2 col-form-label\"/>\n            <div className=\"col-sm-10\">\n              <button\n                  className=\"btn btn-primary btn-block\"\n                  type=\"submit\"\n                  formAction=\"\"\n                  onClick={this.login}\n              >\n                Sign in\n              </button>\n              <div className=\"row\">\n                <div className=\"col text-right\">\n                  <a href=\"#\">Forgot Password?</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n    )\n  }\n}\n\nexport default LoginModalContent\n"]},"metadata":{},"sourceType":"module"}