{"ast":null,"code":"var _jsxFileName = \"/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Table/TableContentComponent.js\";\nimport React, { useState } from \"react\";\nimport Pagination from \"../Others/Pagination\";\n\nconst TableContentComponent = ({\n  flights,\n  login,\n  history\n}) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [flightsPerPage, setFlightsPerPage] = useState(5); //Get current flights\n\n  const indexOfLastFlight = currentPage * flightsPerPage;\n  const indexOfFirstFlight = indexOfLastFlight - flightsPerPage;\n  const currentFlights = flights.slice(indexOfFirstFlight, indexOfLastFlight);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  const book = (flight, data) => {\n    localStorage.setItem(\"flight\", JSON.stringify(flight));\n    localStorage.setItem(\"data\", JSON.stringify(data));\n    history.push('/flight-details');\n  };\n\n  let data = {\n    duration: '',\n    carrier: '',\n    departure: '',\n    depCity: '',\n    depTime: '',\n    arrival: '',\n    arrivalCity: '',\n    arrivalTime: '',\n    price: ''\n  };\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row fix-height mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table table-striped\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    className: \"thead-dark tableFixHead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Airlines\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Departure\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Dep Time\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Trip Time\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Arrival Time\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Arrival\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Fare\"), login && React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Select\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, currentFlights.map((flight, index) => React.createElement(\"tr\", {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, flight.itineraries && flight.itineraries.map(iti => iti.segments.map(seg => {\n    data.carrier = seg.carrierCode;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, seg.carrierCode));\n  }))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, flight.itineraries.map(iti => iti.segments.map(seg => {\n    data.departure = seg.departure.airportName;\n    data.depCity = seg.departure.city;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, seg.departure.airportName, \", \", seg.departure.city));\n  }))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, flight.itineraries.map(iti => iti.segments.map(seg => {\n    data.depTime = seg.departure.at;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, seg.departure.at));\n  }))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, flight.itineraries.map(iti => {\n    data.duration = iti.duration;\n    return iti.duration;\n  })), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, flight.itineraries.map(iti => iti.segments.map(seg => {\n    data.arrivalTime = seg.arrival.at;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, seg.arrival.at));\n  }))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, flight.itineraries.map(iti => iti.segments.map(seg => {\n    data.arrival = seg.arrival.airportName;\n    data.arrivalCity = seg.arrival.city;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, seg.arrival.airportName, \", \", seg.arrival.city));\n  }))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"$\", data.price = flight.price.total), login && React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-dark\",\n    onClick: () => book(flight, data),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Book\"))))))), React.createElement(Pagination, {\n    flightsPerPage: flightsPerPage,\n    totalFlights: flights.length,\n    paginate: paginate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }));\n};\n\nexport default TableContentComponent;","map":{"version":3,"sources":["/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Table/TableContentComponent.js"],"names":["React","useState","Pagination","TableContentComponent","flights","login","history","currentPage","setCurrentPage","flightsPerPage","setFlightsPerPage","indexOfLastFlight","indexOfFirstFlight","currentFlights","slice","paginate","pageNumber","book","flight","data","localStorage","setItem","JSON","stringify","push","duration","carrier","departure","depCity","depTime","arrival","arrivalCity","arrivalTime","price","map","index","itineraries","iti","segments","seg","carrierCode","airportName","city","at","total","length"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;;AAEA,MAAMC,qBAAqB,GAAG,CAAC;AAACC,EAAAA,OAAD;AAAUC,EAAAA,KAAV;AAAiBC,EAAAA;AAAjB,CAAD,KAA+B;AAE3D,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsCT,QAAQ,CAAC,CAAD,CAApD,CAH2D,CAK3D;;AACA,QAAMU,iBAAiB,GAAGJ,WAAW,GAAGE,cAAxC;AACA,QAAMG,kBAAkB,GAAGD,iBAAiB,GAAGF,cAA/C;AACA,QAAMI,cAAc,GAAGT,OAAO,CAACU,KAAR,CAAcF,kBAAd,EAAkCD,iBAAlC,CAAvB;;AAEA,QAAMI,QAAQ,GAAIC,UAAD,IAAgBR,cAAc,CAACQ,UAAD,CAA/C;;AAEA,QAAMC,IAAI,GAAG,CAACC,MAAD,EAASC,IAAT,KAAkB;AAC7BC,IAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAA/B;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B;AACAb,IAAAA,OAAO,CAACkB,IAAR,CAAa,iBAAb;AACD,GAJD;;AAMA,MAAIL,IAAI,GAAG;AACTM,IAAAA,QAAQ,EAAE,EADD;AAETC,IAAAA,OAAO,EAAE,EAFA;AAGTC,IAAAA,SAAS,EAAE,EAHF;AAITC,IAAAA,OAAO,EAAE,EAJA;AAKTC,IAAAA,OAAO,EAAE,EALA;AAMTC,IAAAA,OAAO,EAAE,EANA;AAOTC,IAAAA,WAAW,EAAE,EAPJ;AAQTC,IAAAA,WAAW,EAAE,EARJ;AASTC,IAAAA,KAAK,EAAE;AATE,GAAX;AAYA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,EAGE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,EAKE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,EAME;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANF,EAOE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,EAQG5B,KAAK,IACN;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,CADA,CADF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCQ,cAAc,CAACqB,GAAf,CAAmB,CAAChB,MAAD,EAASiB,KAAT,KAChB;AAAI,IAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiBjB,MAAM,CAACkB,WAAP,IAAsBlB,MAAM,CAACkB,WAAP,CAAmBF,GAAnB,CACnCG,GAAG,IACCA,GAAG,CAACC,QAAJ,CAAaJ,GAAb,CAAiBK,GAAG,IAAI;AAClBpB,IAAAA,IAAI,CAACO,OAAL,GAAea,GAAG,CAACC,WAAnB;AACA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOD,GAAG,CAACC,WAAX,CADK,CAAP;AAGD,GALL,CAF+B,CAAvC,CADF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtB,MAAM,CAACkB,WAAP,CAAmBF,GAAnB,CAAuBG,GAAG,IAC3BA,GAAG,CAACC,QAAJ,CAAaJ,GAAb,CAAiBK,GAAG,IAAI;AAClBpB,IAAAA,IAAI,CAACQ,SAAL,GAAiBY,GAAG,CAACZ,SAAJ,CAAcc,WAA/B;AACAtB,IAAAA,IAAI,CAACS,OAAL,GAAeW,GAAG,CAACZ,SAAJ,CAAce,IAA7B;AACA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,GAAG,CAACZ,SAAJ,CAAcc,WAArB,QAAoCF,GAAG,CAACZ,SAAJ,CAAce,IAAlD,CADK,CAAP;AAGD,GANL,CADC,CAAL,CAVF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKxB,MAAM,CAACkB,WAAP,CAAmBF,GAAnB,CAAuBG,GAAG,IAC3BA,GAAG,CAACC,QAAJ,CAAaJ,GAAb,CAAiBK,GAAG,IAAI;AAClBpB,IAAAA,IAAI,CAACU,OAAL,GAAeU,GAAG,CAACZ,SAAJ,CAAcgB,EAA7B;AACA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOJ,GAAG,CAACZ,SAAJ,CAAcgB,EAArB,CADK,CAAP;AAGD,GALL,CADC,CAAL,CApBF,EA6BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKzB,MAAM,CAACkB,WAAP,CAAmBF,GAAnB,CAAuBG,GAAG,IAAI;AACjClB,IAAAA,IAAI,CAACM,QAAL,GAAgBY,GAAG,CAACZ,QAApB;AACA,WAAOY,GAAG,CAACZ,QAAX;AACD,GAHI,CAAL,CA7BF,EAiCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKP,MAAM,CAACkB,WAAP,CAAmBF,GAAnB,CAAuBG,GAAG,IAC3BA,GAAG,CAACC,QAAJ,CAAaJ,GAAb,CAAiBK,GAAG,IAAI;AAClBpB,IAAAA,IAAI,CAACa,WAAL,GAAmBO,GAAG,CAACT,OAAJ,CAAYa,EAA/B;AACA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOJ,GAAG,CAACT,OAAJ,CAAYa,EAAnB,CADK,CAAP;AAGD,GALL,CADC,CAAL,CAjCF,EA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKzB,MAAM,CAACkB,WAAP,CAAmBF,GAAnB,CAAuBG,GAAG,IAC3BA,GAAG,CAACC,QAAJ,CAAaJ,GAAb,CAAiBK,GAAG,IAAI;AAClBpB,IAAAA,IAAI,CAACW,OAAL,GAAeS,GAAG,CAACT,OAAJ,CAAYW,WAA3B;AACAtB,IAAAA,IAAI,CAACY,WAAL,GAAmBQ,GAAG,CAACT,OAAJ,CAAYY,IAA/B;AACA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,GAAG,CAACT,OAAJ,CAAYW,WAAnB,QAAkCF,GAAG,CAACT,OAAJ,CAAYY,IAA9C,CADK,CAAP;AAGD,GANL,CADC,CAAL,CA1CF,EAoDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAMvB,IAAI,CAACc,KAAL,GAAaf,MAAM,CAACe,KAAP,CAAaW,KAAhC,CApDF,EAqDGvC,KAAK,IACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,cAAlB;AACQ,IAAA,OAAO,EAAE,MAAMY,IAAI,CAACC,MAAD,EAASC,IAAT,CAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAtDF,CADH,CADD,CAdF,CADF,CADF,EAmFE,oBAAC,UAAD;AACI,IAAA,cAAc,EAAEV,cADpB;AAEI,IAAA,YAAY,EAAEL,OAAO,CAACyC,MAF1B;AAGI,IAAA,QAAQ,EAAE9B,QAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnFF,CADJ;AA2FD,CAzHD;;AA2HA,eAAeZ,qBAAf","sourcesContent":["import React, {useState} from \"react\";\nimport Pagination from \"../Others/Pagination\";\n\nconst TableContentComponent = ({flights, login, history}) => {\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [flightsPerPage, setFlightsPerPage] = useState(5);\n\n  //Get current flights\n  const indexOfLastFlight = currentPage * flightsPerPage;\n  const indexOfFirstFlight = indexOfLastFlight - flightsPerPage;\n  const currentFlights = flights.slice(indexOfFirstFlight, indexOfLastFlight);\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  const book = (flight, data) => {\n    localStorage.setItem(\"flight\", JSON.stringify(flight))\n    localStorage.setItem(\"data\", JSON.stringify(data))\n    history.push('/flight-details')\n  }\n\n  let data = {\n    duration: '',\n    carrier: '',\n    departure: '',\n    depCity: '',\n    depTime: '',\n    arrival: '',\n    arrivalCity: '',\n    arrivalTime: '',\n    price: ''\n  }\n\n  return (\n      <React.Fragment>\n        <div className=\"row fix-height mb-3\">\n          <table className=\"table table-striped\">\n            <thead className=\"thead-dark tableFixHead\">\n            <tr>\n              <th scope=\"col\">Airlines</th>\n              <th scope=\"col\">Departure</th>\n              <th scope=\"col\">Dep Time</th>\n              <th scope=\"col\">Trip Time</th>\n              <th scope=\"col\">Arrival Time</th>\n              <th scope=\"col\">Arrival</th>\n              <th scope=\"col\">Fare</th>\n              {login &&\n              <th scope=\"col\">Select</th>}\n            </tr>\n            </thead>\n            <tbody>\n            {currentFlights.map((flight, index) =>\n                <tr key={index}>\n                  <th scope=\"row\">{flight.itineraries && flight.itineraries.map(\n                      iti =>\n                          iti.segments.map(seg => {\n                                data.carrier = seg.carrierCode;\n                                return <div>\n                                  <span>{seg.carrierCode}</span>\n                                </div>\n                              }\n                          ))}</th>\n                  <td>{flight.itineraries.map(iti =>\n                      iti.segments.map(seg => {\n                            data.departure = seg.departure.airportName;\n                            data.depCity = seg.departure.city;\n                            return <div>\n                              <span>{seg.departure.airportName}, {seg.departure.city}</span>\n                            </div>\n                          }\n                      ))}\n                  </td>\n                  <td>{flight.itineraries.map(iti =>\n                      iti.segments.map(seg => {\n                            data.depTime = seg.departure.at;\n                            return <div>\n                              <span>{seg.departure.at}</span>\n                            </div>\n                          }\n                      ))}\n                  </td>\n                  <td>{flight.itineraries.map(iti => {\n                    data.duration = iti.duration\n                    return iti.duration\n                  })}</td>\n                  <td>{flight.itineraries.map(iti =>\n                      iti.segments.map(seg => {\n                            data.arrivalTime = seg.arrival.at;\n                            return <div>\n                              <span>{seg.arrival.at}</span>\n                            </div>\n                          }\n                      ))}\n                  </td>\n                  <td>{flight.itineraries.map(iti =>\n                      iti.segments.map(seg => {\n                            data.arrival = seg.arrival.airportName;\n                            data.arrivalCity = seg.arrival.city;\n                            return <div>\n                              <span>{seg.arrival.airportName}, {seg.arrival.city}</span>\n                            </div>\n                          }\n                      ))}\n                  </td>\n                  <td>${data.price = flight.price.total}</td>\n                  {login &&\n                  <td>\n                    <button className=\"btn btn-dark\"\n                            onClick={() => book(flight, data)}\n                    >Book\n                    </button>\n                  </td>}\n                </tr>\n            )}\n            </tbody>\n          </table>\n        </div>\n        <Pagination\n            flightsPerPage={flightsPerPage}\n            totalFlights={flights.length}\n            paginate={paginate}\n        />\n      </React.Fragment>\n  )\n};\n\nexport default TableContentComponent\n"]},"metadata":{},"sourceType":"module"}