{"ast":null,"code":"var _jsxFileName = \"/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Headers/SearchComponent.js\";\nimport React from \"react\";\nimport Autocomplete from \"../Others/AutocompleteComponent\";\n\nclass SearchComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      origin: this.props.origin,\n      destination: this.props.destination,\n      adults: this.props.adults,\n      startDate: this.props.startDate\n    };\n\n    this.handleOriginChange = value => {\n      if (value == \"null\") {\n        this.setState({\n          origin: \"\"\n        });\n      } else {\n        this.setState({\n          origin: value\n        });\n      }\n    };\n\n    this.handleDestChange = value => {\n      if (value == \"null\") {\n        this.setState({\n          destination: \"\"\n        });\n      } else {\n        this.setState({\n          destination: value\n        });\n      }\n    };\n\n    this.handleAdultsChange = e => {\n      this.setState({\n        adults: e.target.value\n      });\n    };\n\n    this.handleDateChange = e => {\n      this.setState({\n        startDate: e.target.value\n      });\n    };\n\n    this.onClickSuggestion = e => {\n      // Update the user input and reset the rest of the state\n      this.setState({\n        origin: e.currentTarget.innerText\n      });\n    };\n\n    this.search = e => {\n      e.preventDefault(); //this.props.loadSpinner();\n\n      let origin;\n      let destination;\n\n      if (this.state.origin && !/^\\s*$/.test(this.state.origin)) {\n        origin = this.state.origin.split(\"-\", 2);\n      }\n\n      if (this.state.destination && !/^\\s*$/.test(this.state.destination)) {\n        destination = this.state.destination.split(\"-\", 2);\n      }\n\n      let adults = this.state.adults;\n      let startDate = this.state.startDate;\n\n      if (origin && destination && adults && startDate) {\n        if (this.props.dashboard) {\n          this.props.history.push(`/search/dashboard/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`);\n        } else {\n          this.props.history.push(`/search/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`);\n        }\n      } else {\n        alert(\"All fields are mandatory!!\");\n      }\n    };\n  }\n\n  render() {\n    let date = new Date();\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    let minDate = `${year}-0${month}-${day}`;\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"row mr-3 ml-3 mb-3 pt-3 pb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"origin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Origin\"), React.createElement(Autocomplete, {\n      suggestions: [],\n      onDataChange: this.handleOriginChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"destination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Destination\"), React.createElement(Autocomplete, {\n      suggestions: [],\n      onDataChange: this.handleDestChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Start Date\"), React.createElement(\"input\", {\n      type: \"date\",\n      id: \"start\",\n      className: \"form-control\",\n      value: this.state.startDate,\n      onChange: this.handleDateChange,\n      min: minDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Adults\"), React.createElement(\"input\", {\n      type: \"number\",\n      id: \"adults\",\n      className: \"form-control\",\n      value: this.state.adults,\n      onChange: this.handleAdultsChange,\n      min: \"1\",\n      max: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-1 pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary mt-4\",\n      onClick: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Search\"))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default SearchComponent;","map":{"version":3,"sources":["/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Headers/SearchComponent.js"],"names":["React","Autocomplete","SearchComponent","Component","state","origin","props","destination","adults","startDate","handleOriginChange","value","setState","handleDestChange","handleAdultsChange","e","target","handleDateChange","onClickSuggestion","currentTarget","innerText","search","preventDefault","test","split","dashboard","history","push","trim","alert","render","date","Date","day","getDate","month","getMonth","year","getFullYear","minDate"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;;AAEA,MAAMC,eAAN,SAA8BF,KAAK,CAACG,SAApC,CAA8C;AAAA;AAAA;AAAA,SAE5CC,KAF4C,GAEpC;AACNC,MAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWD,MADb;AAENE,MAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAFlB;AAGNC,MAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWE,MAHb;AAINC,MAAAA,SAAS,EAAE,KAAKH,KAAL,CAAWG;AAJhB,KAFoC;;AAAA,SAS5CC,kBAT4C,GAStBC,KAAD,IAAW;AAC9B,UAAIA,KAAK,IAAI,MAAb,EAAqB;AACnB,aAAKC,QAAL,CAAc;AACZP,UAAAA,MAAM,EAAE;AADI,SAAd;AAGD,OAJD,MAIO;AACL,aAAKO,QAAL,CAAc;AACZP,UAAAA,MAAM,EAAEM;AADI,SAAd;AAGD;AACF,KAnB2C;;AAAA,SAqB5CE,gBArB4C,GAqBxBF,KAAD,IAAW;AAC5B,UAAIA,KAAK,IAAI,MAAb,EAAqB;AACnB,aAAKC,QAAL,CAAc;AACZL,UAAAA,WAAW,EAAE;AADD,SAAd;AAGD,OAJD,MAIO;AACL,aAAKK,QAAL,CAAc;AACZL,UAAAA,WAAW,EAAEI;AADD,SAAd;AAGD;AACF,KA/B2C;;AAAA,SAiC5CG,kBAjC4C,GAiCtBC,CAAD,IAAO;AAC1B,WAAKH,QAAL,CAAc;AACZJ,QAAAA,MAAM,EAAEO,CAAC,CAACC,MAAF,CAASL;AADL,OAAd;AAGD,KArC2C;;AAAA,SAuC5CM,gBAvC4C,GAuCxBF,CAAD,IAAO;AACxB,WAAKH,QAAL,CAAc;AACZH,QAAAA,SAAS,EAAEM,CAAC,CAACC,MAAF,CAASL;AADR,OAAd;AAGD,KA3C2C;;AAAA,SA6C5CO,iBA7C4C,GA6CxBH,CAAC,IAAI;AACvB;AACA,WAAKH,QAAL,CAAc;AACZP,QAAAA,MAAM,EAAEU,CAAC,CAACI,aAAF,CAAgBC;AADZ,OAAd;AAGD,KAlD2C;;AAAA,SAoD5CC,MApD4C,GAoDlCN,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACO,cAAF,GADc,CAEd;;AACA,UAAIjB,MAAJ;AACA,UAAIE,WAAJ;;AACA,UAAI,KAAKH,KAAL,CAAWC,MAAX,IAAqB,CAAE,QAAQkB,IAAR,CAAa,KAAKnB,KAAL,CAAWC,MAAxB,CAA3B,EAA6D;AAC3DA,QAAAA,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAAX,CAAkBmB,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAT;AACD;;AACD,UAAI,KAAKpB,KAAL,CAAWG,WAAX,IAA0B,CAAE,QAAQgB,IAAR,CAAa,KAAKnB,KAAL,CAAWG,WAAxB,CAAhC,EAAuE;AACrEA,QAAAA,WAAW,GAAG,KAAKH,KAAL,CAAWG,WAAX,CAAuBiB,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAd;AACD;;AACD,UAAIhB,MAAM,GAAG,KAAKJ,KAAL,CAAWI,MAAxB;AACA,UAAIC,SAAS,GAAG,KAAKL,KAAL,CAAWK,SAA3B;;AACA,UAAIJ,MAAM,IAAIE,WAAV,IAAyBC,MAAzB,IAAmCC,SAAvC,EAAkD;AAChD,YAAI,KAAKH,KAAL,CAAWmB,SAAf,EAA0B;AACxB,eAAKnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CACK,qBAAoBtB,MAAM,CAAC,CAAD,CAAN,CAAUuB,IAAV,EAAiB,IAAGrB,WAAW,CAAC,CAAD,CAAX,CAAeqB,IAAf,EAAsB,IAAG,KAAKxB,KAAL,CAAWI,MAAO,IAAG,KAAKJ,KAAL,CAAWK,SAAU,EADhH;AAED,SAHD,MAGO;AACL,eAAKH,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CACK,WAAUtB,MAAM,CAAC,CAAD,CAAN,CAAUuB,IAAV,EAAiB,IAAGrB,WAAW,CAAC,CAAD,CAAX,CAAeqB,IAAf,EAAsB,IAAG,KAAKxB,KAAL,CAAWI,MAAO,IAAG,KAAKJ,KAAL,CAAWK,SAAU,EADtG;AAED;AACF,OARD,MAQO;AACLoB,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACD;AACF,KA5E2C;AAAA;;AA8E5CC,EAAAA,MAAM,GAAG;AACP,QAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,QAAIC,GAAG,GAAGF,IAAI,CAACG,OAAL,EAAV;AACA,QAAIC,KAAK,GAAGJ,IAAI,CAACK,QAAL,KAAkB,CAA9B;AACA,QAAIC,IAAI,GAAGN,IAAI,CAACO,WAAL,EAAX;AACA,QAAIC,OAAO,GAAI,GAAEF,IAAK,KAAIF,KAAM,IAAGF,GAAI,EAAvC;AAEA,WACI,0CACE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EASE,oBAAC,YAAD;AACI,MAAA,WAAW,EAAE,EADjB;AAEI,MAAA,YAAY,EAAE,KAAKvB,kBAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADF,EAeE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAGE,oBAAC,YAAD;AACI,MAAA,WAAW,EAAE,EADjB;AAEI,MAAA,YAAY,EAAE,KAAKG,gBAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CAfF,EAuBE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AACO,MAAA,EAAE,EAAC,OADV;AAEO,MAAA,SAAS,EAAC,cAFjB;AAGO,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWK,SAHzB;AAIO,MAAA,QAAQ,EAAE,KAAKQ,gBAJtB;AAKO,MAAA,GAAG,EAAEsB,OALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAvBF,EAiCE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAO,MAAA,IAAI,EAAC,QAAZ;AACO,MAAA,EAAE,EAAC,QADV;AAEO,MAAA,SAAS,EAAC,cAFjB;AAGO,MAAA,KAAK,EAAE,KAAKnC,KAAL,CAAWI,MAHzB;AAIO,MAAA,QAAQ,EAAE,KAAKM,kBAJtB;AAKO,MAAA,GAAG,EAAC,GALX;AAMO,MAAA,GAAG,EAAC,GANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAjCF,EA2CE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AACI,MAAA,SAAS,EAAC,sBADd;AAEI,MAAA,OAAO,EAAE,KAAKO,MAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CA3CF,CADF,EAoDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApDF,CADJ;AAwDD;;AA7I2C;;AAgJ9C,eAAenB,eAAf","sourcesContent":["import React from \"react\";\nimport Autocomplete from \"../Others/AutocompleteComponent\";\n\nclass SearchComponent extends React.Component {\n\n  state = {\n    origin: this.props.origin,\n    destination: this.props.destination,\n    adults: this.props.adults,\n    startDate: this.props.startDate\n  };\n\n  handleOriginChange = (value) => {\n    if (value == \"null\") {\n      this.setState({\n        origin: \"\"\n      })\n    } else {\n      this.setState({\n        origin: value\n      })\n    }\n  };\n\n  handleDestChange = (value) => {\n    if (value == \"null\") {\n      this.setState({\n        destination: \"\"\n      })\n    } else {\n      this.setState({\n        destination: value\n      })\n    }\n  };\n\n  handleAdultsChange = (e) => {\n    this.setState({\n      adults: e.target.value\n    })\n  };\n\n  handleDateChange = (e) => {\n    this.setState({\n      startDate: e.target.value\n    })\n  };\n\n  onClickSuggestion = e => {\n    // Update the user input and reset the rest of the state\n    this.setState({\n      origin: e.currentTarget.innerText\n    });\n  };\n\n  search = (e) => {\n    e.preventDefault();\n    //this.props.loadSpinner();\n    let origin;\n    let destination;\n    if (this.state.origin && !(/^\\s*$/.test(this.state.origin))) {\n      origin = this.state.origin.split(\"-\", 2);\n    }\n    if (this.state.destination && !(/^\\s*$/.test(this.state.destination))) {\n      destination = this.state.destination.split(\"-\", 2);\n    }\n    let adults = this.state.adults;\n    let startDate = this.state.startDate;\n    if (origin && destination && adults && startDate) {\n      if (this.props.dashboard) {\n        this.props.history.push(\n            `/search/dashboard/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`)\n      } else {\n        this.props.history.push(\n            `/search/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`)\n      }\n    } else {\n      alert(\"All fields are mandatory!!\")\n    }\n  };\n\n  render() {\n    let date = new Date();\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    let minDate = `${year}-0${month}-${day}`;\n\n    return (\n        <>\n          <div className=\"row mr-3 ml-3 mb-3 pt-3 pb-3\">\n            <div className=\"col-lg-3\">\n              <label htmlFor=\"origin\">Origin</label>\n              { /*<input id=\"origin\"\n                   className=\"form-control\"\n                   type=\"text\"\n                   value={this.state.origin}\n                   onChange={this.handleOriginChange}\n                   required\n            />*/}\n              <Autocomplete\n                  suggestions={[]}\n                  onDataChange={this.handleOriginChange}\n              />\n            </div>\n            <div className=\"col-lg-4\">\n              <label htmlFor=\"destination\">Destination</label>\n\n              <Autocomplete\n                  suggestions={[]}\n                  onDataChange={this.handleDestChange}\n              />\n            </div>\n            <div className=\"col-lg-3\">\n              <label htmlFor=\"start\">Start Date</label>\n              <input type=\"date\"\n                     id=\"start\"\n                     className=\"form-control\"\n                     value={this.state.startDate}\n                     onChange={this.handleDateChange}\n                     min={minDate}\n              />\n            </div>\n            <div className=\"col-lg-1\">\n              <label htmlFor=\"start\">Adults</label>\n              <input type=\"number\"\n                     id=\"adults\"\n                     className=\"form-control\"\n                     value={this.state.adults}\n                     onChange={this.handleAdultsChange}\n                     min=\"1\"\n                     max=\"5\"\n              /></div>\n            <div className=\"col-lg-1 pt-2\">\n              {/* <div className=\"search-spacer\"/> */}\n              <button\n                  className=\"btn btn-primary mt-4\"\n                  onClick={this.search}>Search\n              </button>\n            </div>\n          </div>\n          <hr/>\n        </>\n    )\n  }\n}\n\nexport default SearchComponent\n"]},"metadata":{},"sourceType":"module"}