{"ast":null,"code":"var _jsxFileName = \"/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Headers/SearchComponent.js\";\nimport React from \"react\";\nimport Autocomplete from \"../Others/AutocompleteComponent\";\n\nclass SearchComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      origin: this.props.origin,\n      destination: this.props.destination,\n      adults: this.props.adults,\n      startDate: this.props.startDate\n    };\n\n    this.handleOriginChange = value => {\n      if (value == \"null\") {\n        this.setState({\n          origin: \"\"\n        });\n      } else {\n        this.setState({\n          origin: value\n        });\n      }\n    };\n\n    this.handleDestChange = value => {\n      if (value == \"null\") {\n        this.setState({\n          destination: \"\"\n        });\n      } else {\n        this.setState({\n          destination: value\n        });\n      }\n    };\n\n    this.handleAdultsChange = e => {\n      this.setState({\n        adults: e.target.value\n      });\n    };\n\n    this.handleDateChange = e => {\n      this.setState({\n        startDate: e.target.value\n      });\n    };\n\n    this.onClickSuggestion = e => {\n      // Update the user input and reset the rest of the state\n      this.setState({\n        origin: e.currentTarget.innerText\n      });\n    };\n\n    this.search = e => {\n      e.preventDefault();\n      this.props.loadSpinner();\n      let origin;\n      let destination;\n\n      if (this.state.origin && !/^\\s*$/.test(this.state.origin)) {\n        origin = this.state.origin.split(\"-\", 2);\n      }\n\n      if (this.state.destination && !/^\\s*$/.test(this.state.destination)) {\n        destination = this.state.destination.split(\"-\", 2);\n      }\n\n      let adults = this.state.adults;\n      let startDate = this.state.startDate;\n\n      if (origin && destination && adults && startDate) {\n        if (!this.props.login) {\n          this.props.history.push(`/search/dashboard/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`);\n        } else {\n          this.props.history.push(`/search/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`);\n        }\n      } else {\n        alert(\"All fields are mandatory!!\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.origin) {\n      const origin = this.props.origin;\n      const destination = this.props.destination;\n      const adults = this.props.adults;\n      const date = this.props.startDate;\n      this.setState({\n        origin: origin,\n        destination: destination,\n        adults: adults,\n        startDate: date\n      });\n    }\n  }\n\n  render() {\n    let date = new Date();\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    let minDate = `${year}-0${month}-${day}`;\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"row mr-3 ml-3 pt-4 pb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"origin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Origin\"), React.createElement(Autocomplete, {\n      suggestions: [],\n      onDataChange: this.handleOriginChange,\n      dataValue: this.props.origin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"destination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Destination\"), React.createElement(Autocomplete, {\n      suggestions: [],\n      onDataChange: this.handleDestChange,\n      dataValue: this.props.destination,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Start Date\"), React.createElement(\"input\", {\n      type: \"date\",\n      id: \"start\",\n      className: \"form-control\",\n      value: this.state.startDate,\n      onChange: this.handleDateChange,\n      min: minDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Adults\"), React.createElement(\"input\", {\n      type: \"number\",\n      id: \"adults\",\n      className: \"form-control\",\n      value: this.state.adults,\n      onChange: this.handleAdultsChange,\n      min: \"1\",\n      max: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-1 pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary mt-4\",\n      onClick: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Search\"))));\n  }\n\n}\n\nexport default SearchComponent;","map":{"version":3,"sources":["/Users/jugal/Documents/Root/University/Web Dev CS 5610/Project/Front-end/wbdv-sp20-flight-project-client-react/src/components/Headers/SearchComponent.js"],"names":["React","Autocomplete","SearchComponent","Component","state","origin","props","destination","adults","startDate","handleOriginChange","value","setState","handleDestChange","handleAdultsChange","e","target","handleDateChange","onClickSuggestion","currentTarget","innerText","search","preventDefault","loadSpinner","test","split","login","history","push","trim","alert","componentDidMount","date","render","Date","day","getDate","month","getMonth","year","getFullYear","minDate"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Autocomplete from \"../Others/AutocompleteComponent\";\n\nclass SearchComponent extends React.Component {\n\n  state = {\n    origin: this.props.origin,\n    destination: this.props.destination,\n    adults: this.props.adults,\n    startDate: this.props.startDate\n  };\n\n  componentDidMount() {\n    if (this.props.origin) {\n      const origin = this.props.origin;\n      const destination = this.props.destination;\n      const adults = this.props.adults;\n      const date = this.props.startDate;\n      this.setState({\n        origin: origin,\n        destination: destination,\n        adults: adults,\n        startDate: date\n      });\n    }\n  }\n\n  handleOriginChange = (value) => {\n    if (value == \"null\") {\n      this.setState({\n        origin: \"\"\n      })\n    } else {\n      this.setState({\n        origin: value\n      })\n    }\n  };\n\n  handleDestChange = (value) => {\n    if (value == \"null\") {\n      this.setState({\n        destination: \"\"\n      })\n    } else {\n      this.setState({\n        destination: value\n      })\n    }\n  };\n\n  handleAdultsChange = (e) => {\n    this.setState({\n      adults: e.target.value\n    })\n  };\n\n  handleDateChange = (e) => {\n    this.setState({\n      startDate: e.target.value\n    })\n  };\n\n  onClickSuggestion = e => {\n    // Update the user input and reset the rest of the state\n    this.setState({\n      origin: e.currentTarget.innerText\n    });\n  };\n\n  search = (e) => {\n    e.preventDefault();\n    this.props.loadSpinner();\n    let origin;\n    let destination;\n    if (this.state.origin && !(/^\\s*$/.test(this.state.origin))) {\n      origin = this.state.origin.split(\"-\", 2);\n    }\n    if (this.state.destination && !(/^\\s*$/.test(this.state.destination))) {\n      destination = this.state.destination.split(\"-\", 2);\n    }\n    let adults = this.state.adults;\n    let startDate = this.state.startDate;\n    if (origin && destination && adults && startDate) {\n      if (!this.props.login) {\n        this.props.history.push(\n            `/search/dashboard/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`)\n      } else {\n        this.props.history.push(\n            `/search/${origin[1].trim()}/${destination[1].trim()}/${this.state.adults}/${this.state.startDate}`)\n      }\n    } else {\n      alert(\"All fields are mandatory!!\")\n    }\n  };\n\n  render() {\n    let date = new Date();\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    let minDate = `${year}-0${month}-${day}`;\n\n    return (\n        <>\n          <div className=\"row mr-3 ml-3 pt-4 pb-4\">\n            <div className=\"col-lg-3\">\n              <label htmlFor=\"origin\">Origin</label>\n              { /*<input id=\"origin\"\n                   className=\"form-control\"\n                   type=\"text\"\n                   value={this.state.origin}\n                   onChange={this.handleOriginChange}\n                   required\n            />*/}\n              <Autocomplete\n                  suggestions={[]}\n                  onDataChange={this.handleOriginChange}\n                  dataValue={this.props.origin}\n              />\n            </div>\n            <div className=\"col-lg-4\">\n              <label htmlFor=\"destination\">Destination</label>\n\n              <Autocomplete\n                  suggestions={[]}\n                  onDataChange={this.handleDestChange}\n                  dataValue={this.props.destination}\n              />\n            </div>\n            <div className=\"col-lg-3\">\n              <label htmlFor=\"start\">Start Date</label>\n              <input type=\"date\"\n                     id=\"start\"\n                     className=\"form-control\"\n                     value={this.state.startDate}\n                     onChange={this.handleDateChange}\n                     min={minDate}\n              />\n            </div>\n            <div className=\"col-lg-1\">\n              <label htmlFor=\"start\">Adults</label>\n              <input type=\"number\"\n                     id=\"adults\"\n                     className=\"form-control\"\n                     value={this.state.adults}\n                     onChange={this.handleAdultsChange}\n                     min=\"1\"\n                     max=\"5\"\n              /></div>\n            <div className=\"col-lg-1 pt-2\">\n              {/* <div className=\"search-spacer\"/> */}\n              <button\n                  className=\"btn btn-primary mt-4\"\n                  onClick={this.search}>Search\n              </button>\n            </div>\n          </div>\n        </>\n    )\n  }\n}\n\nexport default SearchComponent\n"]},"metadata":{},"sourceType":"module"}